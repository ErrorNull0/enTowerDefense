<ErrorNull>

<set xpath="/items/item[@name='medicalFirstAidKit']/property[@name='EconomicValue']/@value">250</set>
<set xpath="/items/item[@name='medicalFirstAidBandage']/property[@name='EconomicValue']/@value">100</set>
<set xpath="/items/item[@name='drugPainkillers']/property[@name='EconomicValue']/@value">150</set>
<set xpath="/items/item[@name='medicalAloeCream']/property[@name='EconomicValue']/@value">30</set>
<set xpath="/items/item[@name='resourceSewingKit']/property[@name='EconomicValue']/@value">50</set>
<set xpath="/items/item[@name='medicalSplint']/property[@name='EconomicValue']/@value">50</set>

<append xpath="/items">

	<!-- restores 10 max health -->
	<item name="enStemCells">
		<property name="Tags" value="medical"/>
		<property name="DisplayType" value="medicalPainkillers"/>
		<property name="HoldType" value="16"/>
		<property name="Meshfile" value="#Other/Items?Health/painkillersPrefab.prefab"/>
		<property name="DropMeshfile" value="#Other/Items?Misc/sack_droppedPrefab.prefab"/>
		<property name="CustomIcon" value="drugPainkillers"/>
		<property name="CustomIconTint" value="FF8888"/>
		<property name="Material" value="Morganic"/>
		<property name="EconomicValue" value="10000"/>
		<property name="SellableToTrader" value="false"/>
		<property name="Stacknumber" value="10"/>
		<property name="Group" value="Science,Medical"/>
		<property class="Action0">
			<property name="Class" value="Eat"/>
			<property name="Delay" value="1.0"/>
			<property name="Use_time" value="..."/>
			<property name="Sound_start" value="player_painkillers"/>
			<requirement name="NotHasBuff" buff="buffDrugPainkillers"/>
		</property>
		<effect_group tiered="false">
			<triggered_effect trigger="onSelfPrimaryActionEnd" action="ModifyCVar" cvar="$enDeathPenalty" operation="subtract" value="0.05">
				<requirement name="CVarCompare" cvar="$enDeathPenalty" operation="GT" value="0"/>
			</triggered_effect>
			<triggered_effect trigger="onSelfPrimaryActionEnd" action="ModifyCVar" cvar="$enDeathPenalty" operation="set" value="0">
				<requirement name="CVarCompare" cvar="$enDeathPenalty" operation="LT" value="0"/>
			</triggered_effect>
			<triggered_effect trigger="onSelfPrimaryActionEnd" action="RemoveBuff" buff="enBuffDeathPenalty">
				<requirement name="CVarCompare" cvar="$enDeathPenalty" operation="LTE" value="0"/>
			</triggered_effect>
		</effect_group>
	</item>	

	
	<item name="enDanceBomb">
		<property name="Tags" value="enSnowWeapon"/>
		<property name="ItemTypeIcon" value="star"/>
		<property name="CustomIcon" value="thrownAmmoPipeBomb"/>
		<property name="CustomIconTint" value="230,160,255"/>
		<property name="DescriptionKey" value="enDanceBombDesc"/>
		<property name="Group" value="Ammo/Weapons"/>
		<property name="Meshfile" value="#Other/Items?Weapons/Ranged/PipeBomb/PipeBombPrefab.prefab"/>
		<property name="HoldType" value="25"/>
		<property name="DropScale" value="2.5"/>
		<property name="TintColor" value="230,160,255"/>
		<property name="Material" value="Mmetal"/>
		<property name="Class" value="ItemClassTimeBomb"/>
		<property name="ExplodeOnHit" value="true"/>
		<property name="FuseTime" value="20000"/>
		<property name="Explosion.ParticleIndex" value="12"/>
        <property name="Explosion.RadiusBlocks" value="0"/>
        <property name="Explosion.RadiusEntities" value="250"/>
		<property name="Explosion.BlastPower" value="1"/> <!-- (int,100) how far ragdolls and such are flung -->
		<property name="Stacknumber" value="20"/>
		<property name="ThrowableDecoy" value="true"/>
		<property name="EconomicValue" value="0"/>
		<property name="SellableToTrader" value="false"/>
		<property name="DistractionTags" value="zombie,requires_contact"/>
		<property class="Action0">
			<property name="Class" value="ThrowAway"/>
			<property name="Delay" value="1.2"/>
			<property name="Throw_strength_default" value="10"/>
			<property name="Throw_strength_max" value="40"/>
			<property name="Max_strain_time" value="1.25"/>
			<property name="Sound_start" value="swoosh"/>
		</property>
		<effect_group name="enSnowPellet" tiered="false">
			<passive_effect name="ModSlots" operation="base_set" value="0"/>
			<passive_effect name="EntityDamage" operation="base_set" value="3"/>
			<triggered_effect trigger="onSelfExplosionDamagedOther" action="AddBuff" target="other" buff="enZombieDance"/>
		</effect_group>
	</item>
	
	
	<item name="enRedPill">
		<property name="Tags" value="enRedPill"/>
		<property name="HoldType" value="16"/>
		<property name="Meshfile" value="#Other/Items?Health/painkillersPrefab.prefab"/>
		<property name="DropMeshfile" value="#Other/Items?Misc/sack_droppedPrefab.prefab"/>
		<property name="CustomIcon" value="drugAntibiotics"/>
		<property name="CustomIconTint" value="FF0000"/>
		<property name="Material" value="Morganic"/>
		<property name="EconomicValue" value="1"/>
		<property name="SellableToTrader" value="false"/>
		<property name="Stacknumber" value="10"/>
		<property class="Action0">			
			<property name="Class" value="Eat"/>
			<property name="Delay" value="1.0"/>
			<property name="Use_time" value="..."/>
			<property name="Sound_start" value="player_painkillers"/>
		</property>
		<effect_group tiered="false">
			<triggered_effect trigger="onSelfPrimaryActionEnd" action="AddBuff" buff="enBuffStartSession"/>
		</effect_group>
	</item>	
	
	<!-- for testing -->
	<!--
	<item name="item_BlackPill">
		<property name="HoldType" value="16"/>
		<property name="Meshfile" value="#Other/Items?Health/painkillersPrefab.prefab"/>
		<property name="DropMeshfile" value="#Other/Items?Misc/sack_droppedPrefab.prefab"/>
		<property name="CustomIcon" value="drugAntibiotics"/>
		<property name="CustomIconTint" value="000000"/>
		<property name="Material" value="Morganic"/>
		<property name="EconomicValue" value="1"/>
		<property name="SellableToTrader" value="false"/>
		<property name="Stacknumber" value="100"/>
		<property class="Action0">			
			<property name="Class" value="Eat"/>
			<property name="Delay" value="1.0"/>
			<property name="Use_time" value="..."/>
			<property name="Sound_start" value="player_painkillers"/>
		</property>
		<effect_group tiered="false">
			<triggered_effect trigger="onSelfPrimaryActionEnd" action="AddBuff" buff="xxxxxx"/>
			<triggered_effect trigger="onSelfPrimaryActionEnd" action="CallGameEvent" event="xxxxxxx"/>
		</effect_group>
	</item>	
	-->
	
	<item name="enTeleporter">
		<property name="HoldType" value="16"/>
		<property name="Meshfile" value="#Other/Items?Health/painkillersPrefab.prefab"/>
		<property name="DropMeshfile" value="#Other/Items?Misc/sack_droppedPrefab.prefab"/>
		<property name="CustomIcon" value="drugAntibiotics"/>
		<property name="CustomIconTint" value="000000"/>
		<property name="Material" value="Morganic"/>
		<property name="EconomicValue" value="1"/>
		<property name="SellableToTrader" value="false"/>
		<property name="Stacknumber" value="100"/>
		<property class="Action0">			
			<property name="Class" value="Eat"/>
			<property name="Delay" value="1.0"/>
			<property name="Use_time" value="..."/>
			<property name="Sound_start" value="stunbaton_swinglight"/>
		</property>
		<effect_group tiered="false">
			<triggered_effect trigger="onSelfPrimaryActionEnd" action="CallGameEvent" event="enAction_teleportPlayer"/>
		</effect_group>
	</item>	
	
	
	
	
	
<item name="enRepulsor">
	<property name="Tags" value="melee,grunting,light,perkFlurryOfBlows,weapon,meleeWeapon,attIntellect,perkElectrocutioner,canHaveCosmetic"/>
	<property name="DisplayType" value="melee"/>
	<property name="CustomIcon" value="meleeWpnBatonT2StunBaton"/>
	<property name="CustomIconTint" value="6666FF"/>
	<property name="TintColor" value="64,64,256"/>
	<property name="HoldType" value="65"/>
	<property name="Meshfile" value="#Other/Items?Weapons/Melee/TaserBaton/TaserBatonPrefab.prefab"/>
	<property name="Material" value="MmeleeWpnBatonParts"/> <property name="Weight" value="4"/>
	<!--<property name="RepairTools" value="resourceRepairKit"/>-->
	<property name="DegradationBreaksAfter" value="false"/>
	<property name="EconomicValue" value="350"/>
	<property name="SoundJammed" value="ItemNeedsRepair"/>
	<property name="SoundDestroy" value="wooddestroy1"/>
	<property name="Group" value="Ammo/Weapons,Melee Weapons"/>
	<property name="RepairExpMultiplier" value="5.5"/>
	<!--<property name="UnlockedBy" value="perkElectrocutioner,meleeWpnBatonT2StunBatonSchematic"/>-->
	<property name="ShowQuality" value="true"/>

	<property class="Action0">
		<property name="Class" value="DynamicMelee"/>
		<property name="Damage_type" value="Slashing"/>
		<property name="Sphere" value=".15"/>   <!-- limit to 0.15, else the sphere cast can overlap the target already -->
		<property name="Sound_start" value="stunbaton_swinglight"/>

		<property name="UseGrazingHits" value="true"/>
		<property name="GrazeStart" value=".25"/>
		<property name="GrazeEnd" value=".32"/>
		<property name="SwingDegrees" value="90"/>
		<property name="SwingAngle" value="90"/>
		<property class="HitSounds">
			<property name="Override0" value="organic" param1="metalhollowhitorganic"/>
		</property>
		<property class="GrazeSounds">
			<property name="Override0" value="organic" param1="metalgrazeorganic"/>
		</property>
	</property>
	<property class="Action1">
		<property name="Class" value="DynamicMelee"/>
		<property name="Damage_type" value="Slashing"/>
		<property name="Sphere" value=".15"/>   <!-- limit to 0.15, else the sphere cast can overlap the target already -->
		<property name="Sound_start" value="stunbaton_swingheavy"/>
		<property name="UsePowerAttackAnimation" value="true"/>

		<property name="UseGrazingHits" value="true"/>
		<property name="GrazeStart" value=".2"/>
		<property name="GrazeEnd" value=".32"/>
		<property name="SwingDegrees" value="65"/>
		<property name="SwingAngle" value="180"/>
		<property class="HitSounds">
			<property name="Override0" value="organic" param1="metalhollowhitorganic"/>
		</property>
		<property class="GrazeSounds">
			<property name="Override0" value="organic" param1="metalgrazeorganic"/>
		</property>
	</property>
	<effect_group name="meleeWpnBatonT2StunBaton">
		<passive_effect name="EntityDamage" operation="base_set" value="10.8" tags="perkElectrocutioner"/> <!-- meleeWpnBatonT2StunBaton -->
		<passive_effect name="BlockDamage" operation="base_set" value="6" tags="perkElectrocutioner"/>
		<passive_effect name="AttacksPerMinute" operation="base_set" value="70" tags="perkElectrocutioner,perkFlurryOfBlows"/>
		<passive_effect name="StaminaLoss" operation="base_set" value="15.5" tags="primary"/>
		<passive_effect name="DegradationMax" operation="base_set" value="269,673" tier="1,6" tags="perkElectrocutioner"/>
		<passive_effect name="DegradationPerUse" operation="base_set" value="1" tags="perkElectrocutioner"/>
		<passive_effect name="MaxRange" operation="base_set" value="2.4" tags="perkElectrocutioner"/>
		<passive_effect name="BlockRange" operation="base_set" value="3" tags="perkElectrocutioner"/>

		<passive_effect name="ModSlots" operation="base_set" value="1,1,2,2,3,4" tier="1,2,3,4,5,6"/>
		<passive_effect name="ModPowerBonus" operation="perc_add" value=".10" tags="EntityDamage,BlockDamage"/>
		<passive_effect name="ModPowerBonus" operation="base_add" value="300" tags="EconomicValue"/>

		<passive_effect name="EntityDamage" operation="perc_add" value="-.15,.15" tags="perkElectrocutioner"/> <!-- random EntityDmg -->
		<passive_effect name="EntityDamage" operation="perc_add" value=".1,.5" tier="2,6" tags="perkElectrocutioner"/> <!-- tier bonus -->
		<passive_effect name="BlockDamage" operation="perc_add" value="-.15,.15" tags="perkElectrocutioner"/> <!-- random BlockDmg -->
		<passive_effect name="BlockDamage" operation="perc_add" value=".1,.5" tier="2,6" tags="perkElectrocutioner"/> <!-- tier bonus -->

		<passive_effect name="DamageModifier" operation="perc_add" value="-.9" tags="earth"/>
		<passive_effect name="DamageModifier" operation="perc_add" value="-.9" tags="stone"/>
		<passive_effect name="DamageModifier" operation="perc_add" value="-.9" tags="metal"/>
		<passive_effect name="HarvestCount" operation="base_set" value="1" tags="butcherHarvest"/>

		<passive_effect name="HarvestCount" operation="base_add" value="-.75" tags="allHarvest"/>
		<passive_effect name="HarvestCount" operation="base_add" value="-.75" tags="allToolsHarvest"/>
		<passive_effect name="HarvestCount" operation="base_add" value="-.75" tags="oreWoodHarvest"/>

		<!--<triggered_effect trigger="onSelfEquipStop" action="RemovePart" part="Sparks"/> -->
		<triggered_effect trigger="onSelfEquipStart" action="AddPart" part="Sparks" prefab="ParticleEffects/p_electric_shock_small" parentTransform="Handle" localPos="0,0,0" localRot="0,0,0">
			<requirement name="CVarCompare" cvar=".stunBatonCharge" operation="GTE" value="4"/>
		</triggered_effect>
	</effect_group>

	<effect_group name="Power Attack">
		<passive_effect name="EntityDamage" operation="perc_add" value="1" tags="secondary"/>
		<passive_effect name="BlockDamage" operation="perc_add" value="1" tags="secondary"/>
		<passive_effect name="StaminaLoss" operation="base_set" value="26.4" tags="secondary"/>
	</effect_group>

	<effect_group name="apply damage buff, meleeWpnBatonT2StunBaton">
		<requirement name="CVarCompare" cvar=".stunBatonCharge" operation="GTE" value="40"/>
			<triggered_effect trigger="onSelfEquipStart" action="AddPart" part="Sparks" prefab="ItemModEffects/baton_electricityPrefab" parentTransform="Handle" localPos="0,0,0" localRot="0,0,0"/>

			<triggered_effect trigger="onSelfPrimaryActionRayHit" action="Ragdoll" target="other" duration="2.5" force="350">
				<requirement name="HasBuff" buff="buffmodMeleeStunBatonRepulsor"/>
				<requirement name="!HasBuff" buff="buffDrugNerdTats"/>
				<requirement name="!EntityTagCompare" target="other" tags="trader"/>
			</triggered_effect>
			<triggered_effect trigger="onSelfSecondaryActionRayHit" action="Ragdoll" target="other" duration="2.5" force="350">
				<requirement name="HasBuff" buff="buffmodMeleeStunBatonRepulsor"/>
				<requirement name="!HasBuff" buff="buffDrugNerdTats"/>
				<requirement name="!EntityTagCompare" target="other" tags="trader"/>
			</triggered_effect>

			<triggered_effect trigger="onSelfPrimaryActionRayHit" action="Ragdoll" target="otherAOE" range="1.1" target_tags="zombie,animal" duration="2.5" force="350">
				<requirement name="HasBuff" buff="buffmodMeleeStunBatonRepulsor"/>
				<requirement name="HasBuff" buff="buffDrugNerdTats"/>
			</triggered_effect>
			<triggered_effect trigger="onSelfSecondaryActionRayHit" action="Ragdoll" target="otherAOE" range="1.1" target_tags="zombie,animal" duration="2.5" force="350">
				<requirement name="HasBuff" buff="buffmodMeleeStunBatonRepulsor"/>
				<requirement name="HasBuff" buff="buffDrugNerdTats"/>
			</triggered_effect>

			<!-- Set duration -->
			<triggered_effect trigger="onSelfPrimaryActionRayHit" action="ModifyCVar" target="other" cvar=".buffShockedDurationStart" operation="set" value="5">
				<requirement name="ProgressionLevel" progression_name="perkElectrocutioner" operation="Equals" value="1"/></triggered_effect>
			<triggered_effect trigger="onSelfPrimaryActionRayHit" action="ModifyCVar" target="other" cvar=".buffShockedDurationStart" operation="set" value="6">
				<requirement name="ProgressionLevel" progression_name="perkElectrocutioner" operation="Equals" value="2"/></triggered_effect>
			<triggered_effect trigger="onSelfPrimaryActionRayHit" action="ModifyCVar" target="other" cvar=".buffShockedDurationStart" operation="set" value="7">
				<requirement name="ProgressionLevel" progression_name="perkElectrocutioner" operation="Equals" value="3"/></triggered_effect>
			<triggered_effect trigger="onSelfPrimaryActionRayHit" action="ModifyCVar" target="other" cvar=".buffShockedDurationStart" operation="set" value="8">
				<requirement name="ProgressionLevel" progression_name="perkElectrocutioner" operation="Equals" value="4"/></triggered_effect>
			<triggered_effect trigger="onSelfPrimaryActionRayHit" action="ModifyCVar" target="other" cvar=".buffShockedDurationStart" operation="set" value="9">
				<requirement name="ProgressionLevel" progression_name="perkElectrocutioner" operation="Equals" value="5"/></triggered_effect>

			<triggered_effect trigger="onSelfSecondaryActionRayHit" action="ModifyCVar" target="other" cvar=".buffShockedDurationStart" operation="set" value="5">
				<requirement name="ProgressionLevel" progression_name="perkElectrocutioner" operation="Equals" value="1"/></triggered_effect>
			<triggered_effect trigger="onSelfSecondaryActionRayHit" action="ModifyCVar" target="other" cvar=".buffShockedDurationStart" operation="set" value="6">
				<requirement name="ProgressionLevel" progression_name="perkElectrocutioner" operation="Equals" value="2"/></triggered_effect>
			<triggered_effect trigger="onSelfSecondaryActionRayHit" action="ModifyCVar" target="other" cvar=".buffShockedDurationStart" operation="set" value="7">
				<requirement name="ProgressionLevel" progression_name="perkElectrocutioner" operation="Equals" value="3"/></triggered_effect>
			<triggered_effect trigger="onSelfSecondaryActionRayHit" action="ModifyCVar" target="other" cvar=".buffShockedDurationStart" operation="set" value="8">
				<requirement name="ProgressionLevel" progression_name="perkElectrocutioner" operation="Equals" value="4"/></triggered_effect>
			<triggered_effect trigger="onSelfSecondaryActionRayHit" action="ModifyCVar" target="other" cvar=".buffShockedDurationStart" operation="set" value="9">
				<requirement name="ProgressionLevel" progression_name="perkElectrocutioner" operation="Equals" value="5"/></triggered_effect>

			<triggered_effect trigger="onSelfPrimaryActionRayHit" action="AddBuff" target="other" buff="buffShocked"/>
			<triggered_effect trigger="onSelfSecondaryActionRayHit" action="AddBuff" target="other" buff="buffShocked"/>

			<triggered_effect trigger="onSelfPrimaryActionRayHit" action="AddBuff" target="otherAOE" range="1.1" target_tags="zombie,animal" buff="buffShocked">
				<requirement name="HasBuff" buff="buffDrugNerdTats"/>
			</triggered_effect>
			<triggered_effect trigger="onSelfSecondaryActionRayHit" action="AddBuff" target="otherAOE" range="1.3" target_tags="zombie,animal" buff="buffShocked">
				<requirement name="HasBuff" buff="buffDrugNerdTats"/>
			</triggered_effect>

			<triggered_effect trigger="onSelfPrimaryActionRayHit" action="RemovePart" part="Sparks"/>
			<triggered_effect trigger="onSelfSecondaryActionRayHit" action="RemovePart" part="Sparks"/>

			<triggered_effect trigger="onSelfPrimaryActionRayHit" action="ModifyCVar" cvar=".stunBatonCharge" operation="set" value="0"/>
			<triggered_effect trigger="onSelfSecondaryActionRayHit" action="ModifyCVar" cvar=".stunBatonCharge" operation="set" value="0"/>
	</effect_group>

<!--
needed?
			<requirement name="ItemHasTags" tags="perkElectrocutioner"/>

			<requirement name="EntityTagCompare" target="other" tags="human,zombie,animal"/>
-->

	<effect_group name="increase charges">
		<triggered_effect trigger="onSelfPrimaryActionRayHit" action="ModifyCVar" cvar=".stunBatonCharge" operation="add" value="1">
			<requirement name="IsAlive" target="other"/>
		</triggered_effect>
		<triggered_effect trigger="onSelfSecondaryActionRayHit" action="ModifyCVar" cvar=".stunBatonCharge" operation="add" value="2">
			<requirement name="IsAlive" target="other"/>
		</triggered_effect>

		<triggered_effect trigger="onSelfPrimaryActionRayHit" action="ModifyCVar" cvar=".stunBatonCharge" operation="add" value="4">
			<requirement name="ProgressionLevel" progression_name="perkTechJunkie6BatonCharge" operation="Equals" value="1"/>
			<requirement name="IsAlive" target="other"/>
			<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="25"/>
		</triggered_effect>
		<triggered_effect trigger="onSelfSecondaryActionRayHit" action="ModifyCVar" cvar=".stunBatonCharge" operation="add" value="4">
			<requirement name="ProgressionLevel" progression_name="perkTechJunkie6BatonCharge" operation="Equals" value="1"/>
			<requirement name="IsAlive" target="other"/>
			<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="50"/>
		</triggered_effect>

		<triggered_effect trigger="onSelfPrimaryActionRayHit" action="AddPart" part="Sparks" prefab="ParticleEffects/p_electric_shock_small" parentTransform="Handle" localPos="0,0,0" localRot="0,0,0">
			<requirement name="CVarCompare" cvar=".stunBatonCharge" operation="GTE" value="4"/>
			<requirement name="CVarCompare" cvar=".stunBatonCharge" operation="LT" value="40"/>
		</triggered_effect>
		<triggered_effect trigger="onSelfSecondaryActionRayHit" action="AddPart" part="Sparks" prefab="ParticleEffects/p_electric_shock_small" parentTransform="Handle" localPos="0,0,0" localRot="0,0,0">
			<requirement name="CVarCompare" cvar=".stunBatonCharge" operation="GTE" value="4"/>
			<requirement name="CVarCompare" cvar=".stunBatonCharge" operation="LT" value="40"/>
		</triggered_effect>

		<!-- the attack that applies the last +1 charge can not immediately trigger the effect -->
		<triggered_effect trigger="onSelfPrimaryActionEnd" action="ModifyCVar" cvar=".stunBatonCharge" operation="set" value="40">
			<requirement name="CVarCompare" cvar=".stunBatonCharge" operation="GTE" value="4"/>
		</triggered_effect>
		<triggered_effect trigger="onSelfSecondaryActionEnd" action="ModifyCVar" cvar=".stunBatonCharge" operation="set" value="40">
			<requirement name="CVarCompare" cvar=".stunBatonCharge" operation="GTE" value="4"/>
		</triggered_effect>

		<triggered_effect trigger="onSelfPrimaryActionRayHit" action="PlaySound" sound="stunbaton_hit1">
			<requirement name="CVarCompare" cvar=".stunBatonCharge" operation="Equals" value="0"/></triggered_effect>
		<triggered_effect trigger="onSelfPrimaryActionRayHit" action="PlaySound" sound="stunbaton_hit2">
			<requirement name="CVarCompare" cvar=".stunBatonCharge" operation="Equals" value="1"/></triggered_effect>
		<triggered_effect trigger="onSelfPrimaryActionRayHit" action="PlaySound" sound="stunbaton_hit3">
			<requirement name="CVarCompare" cvar=".stunBatonCharge" operation="Equals" value="2"/></triggered_effect>
		<triggered_effect trigger="onSelfPrimaryActionRayHit" action="PlaySound" sound="stunbaton_hit4">
			<requirement name="CVarCompare" cvar=".stunBatonCharge" operation="Equals" value="3"/></triggered_effect>
		<triggered_effect trigger="onSelfPrimaryActionRayHit" action="PlaySound" sound="stunbaton_hit5">
			<requirement name="CVarCompare" cvar=".stunBatonCharge" operation="GTE" value="4"/></triggered_effect>

		<triggered_effect trigger="onSelfSecondaryActionRayHit" action="PlaySound" sound="stunbaton_hit1">
			<requirement name="CVarCompare" cvar=".stunBatonCharge" operation="Equals" value="0"/></triggered_effect>
		<triggered_effect trigger="onSelfSecondaryActionRayHit" action="PlaySound" sound="stunbaton_hit2">
			<requirement name="CVarCompare" cvar=".stunBatonCharge" operation="Equals" value="1"/></triggered_effect>
		<triggered_effect trigger="onSelfSecondaryActionRayHit" action="PlaySound" sound="stunbaton_hit3">
			<requirement name="CVarCompare" cvar=".stunBatonCharge" operation="Equals" value="2"/></triggered_effect>
		<triggered_effect trigger="onSelfSecondaryActionRayHit" action="PlaySound" sound="stunbaton_hit4">
			<requirement name="CVarCompare" cvar=".stunBatonCharge" operation="Equals" value="3"/></triggered_effect>
		<triggered_effect trigger="onSelfSecondaryActionRayHit" action="PlaySound" sound="stunbaton_hit5">
			<requirement name="CVarCompare" cvar=".stunBatonCharge" operation="GTE" value="4"/></triggered_effect>

		<!--<triggered_effect trigger="onSelfAttackedOther" action="PlaySound" sound="stunbaton_hit5">
			<requirement name="CVarCompare" cvar=".stunBatonCharge" operation="Equals" value="5"/>
		</triggered_effect>-->
	</effect_group>

</item>
	
	
	
<!-- handitems for stronger enemies -->

<item name="meleeHandHellShocker">
	<property name="Extends" value="meleeHandMaster"/>
	<property name="CreativeMode" value="None"/>
	<property name="Degradation" value="99999" param1="true"/>
	<property class="Action0">
		<property name="Range" value="2.5"/>
		<property name="DamageEntity" value="15"/>
		<property name="DamageBlock" value="20"/>
		<property name="Buff" value="buffInjuryStunned01"/>		
	</property>
	<property class="Action1"> <!-- UseAction -->
		<property name="Class" value="Vomit"/>
		<property name="Delay" value="0.2"/> <!-- obsolete if rounds per minute exists -->
		<property name="Range" value="170"/>
		<property name="Infinite_ammo" value="true"/>
		<property name="Magazine_items" value="HellShockerProjectile"/>
		<property name="Sound_warning" value="hulkvomitwarning"/>
		<property name="Sound_start" value="ak47_fire"/>
		<property name="Sound_end" value="ak47_fire_end"/>			
		<property name="Buff" value="buffInjuryBleeding"/>
	</property>
	<effect_group name="meleeHandHellShocker" tiered="false">
		<passive_effect name="ModSlots" operation="base_set" value="0"/>	
		<passive_effect name="DamageFalloffRange" operation="base_set" value="50"/>
		<passive_effect name="MaxRange" operation="base_set" value="100"/>
		<passive_effect name="MagazineSize" operation="base_set" value="6"/>
		<passive_effect name="BurstRoundCount" operation="base_set" value="1"/>
		<passive_effect name="SpreadDegreesVertical" operation="base_set" value="2"/>
		<passive_effect name="SpreadDegreesHorizontal" operation="base_set" value="2"/>
		<passive_effect name="SpreadMultiplierIdle" operation="base_set" value="0"/>	
	</effect_group>
</item>	

<item name="HellShockerProjectile">
	<property name="Meshfile" value="prefabs/electricshock"/>
	<property name="Material" value="Morganic" />
	<property name="CreativeMode" value="None"/>
	<property class="Action1">
		<property name="Class" value="Projectile"/>			
		<property name="DamageEntity" value="6"/>
		<property name="DamageBlock" value="22"/>
		<property name="Gravity" value="-2"/>		
		<property name="Velocity" value="45"/>
		<property name="FlyTime" value="0.5"/>
		<property name="LifeTime" value="6"/>
		<property name="DamageBonus.earth" value="3"/>
		<property name="DamageBonus.wood" value="2"/>			
		<property name="DamageBonus.stone" value="0"/>		
		<property name="DamageBonus.metal" value="1"/>		
		<property name="CollisionRadius" value="0.5"/>
	</property>
	<effect_group name="HellShockerProjectile" tiered="false">
		<passive_effect name="EntityDamage" operation="base_set" value="200"/>
		<passive_effect name="BlockDamage" operation="base_set" value="30"/>
		<passive_effect name="DamageModifier" operation="perc_set" value=".1" tags="wood"/>
		<passive_effect name="DamageModifier" operation="perc_set" value="0" tags="earth,metal,cloth"/>
		<passive_effect name="ProjectileVelocity" operation="base_set" value="180"/>
		<triggered_effect trigger="onProjectileImpact" action="AddBuff" target="other" buff="buffShocked"/>
		<passive_effect name="TargetArmor" operation="perc_add" value="-.75"/>
		<passive_effect name="EntityPenetrationCount" operation="base_set" value="3"/>
		<display_value name="dTargetPenetration" value="3"/>
		<display_value name="dTargetArmor" value="-.75"/>		
	</effect_group>	
</item>

<item name="meleeHandScorcher">
	<property name="Extends" value="meleeHandMaster"/>
	<property name="CreativeMode" value="None"/>
	<property name="Degradation" value="99999" param1="true"/>
	<property class="Action0">
		<property name="Range" value="1.75"/>
		<property name="DamageEntity" value="25"/>
		<property name="DamageBlock" value="50"/>
		<property name="Buff" value="buffInjuryBleedingZombie,buffInfectionCatch,buffInjuryStunned01"/>
	</property>
	<property class="Action1"> <!-- UseAction -->
		<property name="Class" value="Vomit"/>
		<property name="Hitmask_override" value="Arrow"/>
		<property name="Delay" value=".2"/> <!-- obsolete if rounds per minute exists -->
		<property name="Range" value="20"/>
		<property name="Infinite_ammo" value="true"/>
		<property name="Magazine_items" value="ammoProjectileScorcher"/>
		<property name="Sound_warning" value=""/>
		<property name="Sound_start" value=""/>
		<property name="Sound_repeat" value=""/>
		<property name="Sound_end" value=""/>
		<property name="Sound_empty" value=""/>
		<property name="Sound_reload" value=""/>
		<property name="Buff" value="buffBurningZombie"/>
	</property>
	<effect_group name="meleeHandScorcher" tiered="false">
		<passive_effect name="ModSlots" operation="base_set" value="0"/>
		<!--<passive_effect name="AttacksPerMinute" operation="base_set" value="75"/>  A16 .8 -->
		<passive_effect name="DamageFalloffRange" operation="base_set" value="50"/>
		<passive_effect name="MaxRange" operation="base_set" value="20"/>
		<passive_effect name="MagazineSize" operation="base_set" value="10"/>
		<passive_effect name="BurstRoundCount" operation="base_set" value="10"/>
		<passive_effect name="SpreadDegreesVertical" operation="base_set" value="2"/>
		<passive_effect name="SpreadDegreesHorizontal" operation="base_set" value="10"/>
		<passive_effect name="SpreadMultiplierIdle" operation="base_set" value="1"/>
		<passive_effect name="BuffProcChance" operation="base_set" value=".20" tags="buffInjuryBleedingZombie"/>
		<passive_effect name="BuffProcChance" operation="base_set" value=".20" tags="buffInfectionCatch"/>
		<passive_effect name="BuffProcChance" operation="base_set" value=".25" tags="buffInjuryStunned01"/>
		<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" target="other" cvar="infectionZombieHit" operation="set" value="30"/><!--InfectionRegular-->
	</effect_group>
</item>

<item name="ammoProjectileScorcher">
	<!--property name="Meshfile" value="particleeffects/p_onFire"/-->
	<property name="Meshfile" value="particleeffects/p_fire_small"/>
	<property name="Material" value="Morganic"/>
	<property name="CreativeMode" value="None"/>
	<property class="Action1">
		<property name="Class" value="Projectile"/>
		<property name="DamageEntity" value="5"/>
		<property name="DamageBlock" value="30"/>
		<property name="Explosion.ParticleIndex" value="0"/>
		<property name="Velocity" value="18"/>
		<property name="FlyTime" value=".2"/>
		<property name="LifeTime" value="2"/>
		<property name="CollisionRadius" value=".5"/>
		<property name="DamageBonus.earth" value="0"/>
		<property name="Buff" value="buffBurningZombie"/>
	</property>
	<effect_group name="ammoProjectileScorcher" tiered="false">
		<passive_effect name="ModSlots" operation="base_set" value="0"/>
		<passive_effect name="DamageModifier" operation="perc_set" value="0" tags="earth"/>
		<passive_effect name="DamageModifier" operation="perc_set" value="0.5" tags="stone"/>
		<passive_effect name="DamageModifier" operation="perc_add" value="1.2" tags="metal"/>
		<passive_effect name="BuffProcChance" operation="base_set" value=".8" tags="buffBurningZombie"/>
	</effect_group>
</item>
	
<item name="meleeHandZombieGunner">
	<property name="Extends" value="meleeHandMaster"/>
	<property name="CreativeMode" value="None"/>
	<property name="Degradation" value="99999" param1="true"/>
	<property class="Action0">
		<property name="Range" value="2"/>
		<property name="DamageEntity" value="38"/>
		<property name="DamageBlock" value="120"/>
		<property name="Buff" value="buffArmBroken,buffStayDownKO"/>		
	</property>
	<property class="Action1"> 
		<property name="Class" value="Vomit"/>
		<property name="Delay" value="0.2"/> 
		<property name="Range" value="200"/>
		<property name="Infinite_ammo" value="true"/>
		<property name="Magazine_items" value="GunVomitProjectile"/>
		<property name="Sound_warning" value="ak47_reload_part_02"/>
		<property name="Sound_start" value="ak47_fire"/>
		<property name="Sound_end" value="ak47_fire_end"/>			
		<property name="Buff" value="buffInjuryBleedingOne,buffInjuryStunnedX"/>
	</property>
	<effect_group name="meleeHandZombieGunner" tiered="false">
		<passive_effect name="ModSlots" operation="base_set" value="0"/>	
		<passive_effect name="DamageFalloffRange" operation="base_set" value="50"/>
		<passive_effect name="MaxRange" operation="base_set" value="100"/>
		<passive_effect name="MagazineSize" operation="base_set" value="20"/>
		<passive_effect name="BurstRoundCount" operation="base_set" value="1"/>
		<passive_effect name="SpreadDegreesVertical" operation="base_set" value="3"/>
		<passive_effect name="SpreadDegreesHorizontal" operation="base_set" value="5"/>
		<passive_effect name="SpreadMultiplierIdle" operation="base_set" value="1"/>
		<passive_effect name="BuffProcChance" operation="base_set" value=".14" tags="buffArmBroken"/>
		<passive_effect name="BuffProcChance" operation="base_set" value=".16" tags="buffStayDownKO"/>	
	</effect_group>
</item>	

<item name="GunVomitProjectile">
	<property name="Meshfile" value="Entities/Electrical/steel_dartPrefab"/>
	<property name="Material" value="Morganic" />
	<property name="CreativeMode" value="None"/>
	<property class="Action1">
		<property name="Class" value="Projectile"/>	
		<property name="Gravity" value="-3"/>		
		<property name="DamageEntity" value="5"/>
		<property name="DamageBlock" value="2"/>			
		<property name="Velocity" value="15"/>
		<property name="FlyTime" value="3"/>
		<property name="LifeTime" value="5"/>
		<property name="DamageBonus.earth" value="5"/>
		<property name="DamageBonus.wood" value="4"/>			
		<property name="DamageBonus.stone" value="2"/>		
		<property name="DamageBonus.metal" value="3"/>		
		<property name="CollisionRadius" value="0.5"/>
		<property name="Buff" value="buffInjuryBleedingOne,buffInjuryStunnedX"/>
	</property>
	<effect_group name="GunVomitProjectile" tiered="false">
		<passive_effect name="DamageModifier" operation="perc_set" value="1" tags="earth"/>
		<passive_effect name="DamageModifier" operation="perc_add" value="1" tags="metal"/>
		<passive_effect name="BuffProcChance" operation="base_set" value="0.18" tags="buffInjuryBleedingOne"/>
		<passive_effect name="BuffProcChance" operation="base_set" value="0.19" tags="buffInjuryStunnedX"/>			
	</effect_group>	
</item>	
	
<item name="meleeHandAnimalKaboomPhoenix">
	<property name="Extends" value="meleeHandMaster"/>
	<property name="CreativeMode" value="None"/>
	<property name="Degradation" value="99999" param1="true"/>
	<property class="Action0">
		<property name="Range" value="3.5"/>	
		<property name="DamageEntity" value="24"/>
		<property name="DamageBlock" value="150"/>
		<property name="Buff" value="buffInjuryStunned01"/>		
	</property>
	<property class="Action1"> 
		<property name="Class" value="Vomit"/>
		<property name="Hitmask_override" value="Arrow"/>		
		<property name="Delay" value="0.5"/> 
		<property name="Infinite_ammo" value="true"/>
		<property name="Magazine_items" value="ammoProjectileKaboomVomit" />
		<property name="Sound_warning" value="m136_reload_part_01"/>
		<property name="Sound_start" value="m136_fire"/>			
		<property name="Buff" value="buffInjuryStunned01"/>
	</property>
	<effect_group name="meleeHandAnimalKaboomPhoenix" tiered="false">
		<passive_effect name="ModSlots" operation="base_set" value="0"/>	
		<passive_effect name="DamageFalloffRange" operation="base_set" value="50"/>
		<passive_effect name="MaxRange" operation="base_set" value="100"/>
		<passive_effect name="MagazineSize" operation="base_set" value="4"/>
		<passive_effect name="BurstRoundCount" operation="base_set" value="1"/>
		<passive_effect name="SpreadDegreesVertical" operation="base_set" value="3"/>
		<passive_effect name="SpreadDegreesHorizontal" operation="base_set" value="3"/>
		<passive_effect name="SpreadMultiplierIdle" operation="base_set" value="1"/>
		<passive_effect name="BuffProcChance" operation="base_set" value=".15" tags="buffInjuryStunned01"/>	
	</effect_group>
</item>	

<item name="ammoProjectileKaboomVomit">
	<property name="Meshfile" value="#Other/Items?Weapons/Ranged/RocketLauncher/rocketPrefab"/>
	<property name="Material" value="Morganic" />	
	<property name="CreativeMode" value="None"/>
	<property class="Action1">
		<property name="Class" value="Projectile"/>	
		<property name="DamageEntity" value="30"/>
		<property name="DamageBlock" value="220"/>
		<property name="Velocity" value="15"/>
		<property name="FlyTime" value="5"/>
		<property name="LifeTime" value="10"/>	
		<property name="Explosion.ParticleIndex" value="2"/>
		<property name="Explosion.RadiusBlocks" value="6"/>
		<property name="Explosion.BlockDamage" value="150"/>
		<property name="Explosion.RadiusEntities" value="6"/>
		<property name="Explosion.EntityDamage" value="65"/>
		<property name="Explosion.DamageBonus.water" value="0"/>
		<property name="DamageBonus.earth" value="60"/>
		<property name="DamageBonus.stone" value="70"/>		
		<property name="DamageBonus.metal" value="85"/>
		<property name="DamageBonus.wood" value="110"/>				
	</property>
		<effect_group name="ammoProjectileKaboomVomit" tiered="false">
		<passive_effect name="BuffProcChance" operation="base_set" value="0.15" tags="buffInjuryStunned01"/>
		<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" target="other" cvar="infectionZombieHit" operation="set" value="70"/>
	</effect_group>
</item>
	
	
	
	
	
	
</append>

</ErrorNull>