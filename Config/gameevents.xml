<ErrorNull>

<set xpath="/gameevents/@max_entities">30</set>

<!-- remove vanilla new game sequence with basic survival quest -->
<remove xpath="/gameevents/action_sequence[@name='game_first_spawn']/action" />

<!-- start up custom tower defense sequence -->
<append xpath="/gameevents/action_sequence[@name='game_first_spawn']">
	<action class="AddBuff">
		<property name="phase" value="0" />
		<property name="buff_name" value="enRadiationZone"/>
	</action>
	<action class="Delay">
		<property name="time" value="4.5" />
	</action>
	<action class="BeltTooltip">
		<property name="text" value="Spawning starter crate..." />
		<property name="phase" value="1" />
	</action>
	<action class="Delay">
		<property name="time" value="5" />
		<property name="phase" value="2" />
	</action>
	<action class="SpawnContainer">
		<property name="entity_names" value="enTowerDefenseStarter" param1="cratename" />
		<property name="spawn_count" value="1" param1="spawncount" />
		<property name="min_distance" value="4" />
		<property name="max_distance" value="8" />
		<property name="safe_spawn" value="true" />
		<property name="phase" value="3" />
	</action>
	<action class="PlaySound">
		<property name="sound" value="open_supply_crate" />
		<property name="phase" value="3" />
	</action>
	<action class="Delay">
		<property name="time" value="10" />
		<property name="phase" value="4" />
	</action>
</append>



<append xpath="/gameevents">

	<action_sequence name="enAction_SessionStart">
		<property name="allow_user_trigger" value="false" />
		<property name="category" value="twitch_actions" />

		<action class="BeltTooltip">
			<property name="phase" value="1" />
			<property name="text" value="Spawning zombies in 10 seconds..." />
		</action>
		
		<!-- initialize HUD variables -->
		<action class="SetCVar">
			<property name="phase" value="2" />
			<property name="cvar" value="enCvarZombieKillCounter" />
			<property name="value" value="0" />
		</action>
		<action class="SetCVar">
			<property name="phase" value="3" />
			<property name="cvar" value="enCvarTotalScore" />
			<property name="value" value="0" />
		</action>
		<!--
		<action class="SetCVar">
			<property name="phase" value="4" />
			<property name="cvar" value="enCvarEndGameTimer" />
			<property name="value" value="3600" />
		</action>
		-->
		<action class="SetCVar">
			<property name="phase" value="5" />
			<property name="cvar" value="enCvarZombieSpawnTimer" />
			<property name="value" value="10" />
		</action>
		
		<!-- show on-screen huds icons -->
		<!--
		<action class="AddBuff">
			<property name="phase" value="6" />
			<property name="buff_name" value="enBuffShowEndGameTimer"/>
		</action>
		-->
		<action class="AddBuff">
			<property name="phase" value="7" />
			<property name="buff_name" value="enBuffShowZombieKillCounter"/>
		</action>
		<action class="AddBuff">
			<property name="phase" value="8" />
			<property name="buff_name" value="enBuffShowTotalScore"/>
		</action>
		<!--
		<action class="AddBuff">
			<property name="phase" value="9" />
			<property name="buff_name" value="enBuffShowZombieSpawnTimer"/>
		</action>
		-->
		
		<!-- activate time loops -->
		<!--
		<action class="AddBuff">
			<property name="phase" value="9" />
			<property name="buff_name" value="enBuffUpdateEndGameTimer"/>
		</action>
		-->
		<action class="AddBuff">
			<property name="phase" value="10" />
			<property name="buff_name" value="enBuffUpdateZombieSpawnTimer"/>
		</action>

		<!-- activate spawn listeners -->
		<action class="AddBuff">
			<property name="phase" value="11" />
			<property name="buff_name" value="enBuffZombieSpawner"/>
		</action>
		<!--
		<action class="AddBuff">
			<property name="phase" value="12" />
			<property name="buff_name" value="enBuffEndGameSpawner"/>
		</action>
		-->
	</action_sequence>
	
	<!-- spawns end game bosses -->
	<!--
	<action_sequence name="enAction_endGameSpawner">
		<property name="allow_user_trigger" value="false" />
		<property name="category" value="twitch_actions" />
		<action class="SpawnEntity">
			<property name="phase" value="1" />
			<property name="entity_names" value="zombieDemolition,zombieWightRadiated,animalZombieVultureRadiated,animalZombieBear" />
			<property name="spawn_count" value="2" />
			<property name="min_distance" value="15" />
			<property name="max_distance" value="25" />
			<property name="air_spawn" value="true" />
			<property name="attack_target" value="true" />
		</action>
	</action_sequence>
	-->

	<!-- updates counter for zombie and animal kills -->
	<action_sequence name="enAction_UpdateKillCount">
		<property name="allow_user_trigger" value="false" />
		<property name="category" value="twitch_actions" />
		<action class="AddBuff">
			<property name="phase" value="1" />
			<property name="buff_name" value="enBuffUpdateZombieKillCounter"/>
		</action>
	</action_sequence>
	
	<!-- rewards coins for killing enemies -->
	<action_sequence name="enAction_GiveCoins">
		<property name="allow_user_trigger" value="false" />
		<property name="category" value="twitch_actions" />
		<action class="AddItems">
			<property name="phase" value="1" />
			<property name="added_items" value="casinoCoin" />
			<property name="added_item_counts" value="20-30" />
			<!-- suggestion: 60-90 for single player, and 20-30 for multi player -->
		</action>
	</action_sequence>
	<action_sequence name="enAction_GiveCoins_boss">
		<property name="allow_user_trigger" value="false" />
		<property name="category" value="twitch_actions" />
		<action class="AddItems">
			<property name="phase" value="1" />
			<property name="added_items" value="casinoCoin" />
			<property name="added_item_counts" value="100-150" />
			<!-- suggestion: 300-450 for single player, and 100-150 for multi player -->
		</action>
	</action_sequence>
	
	
	
	<action_sequence name="enAction_teleportPlayer">
		<action class="RandomTeleport">
			<property name="min_distance" value="14" />
			<property name="max_distance" value="16" />
		</action>
	</action_sequence>
	



	<!-- easy zombies -->
	<action_sequence name="zombie_group_01">
		<property name="allow_user_trigger" value="false" />
		<property name="category" value="twitch_actions" />
		<action class="SpawnEntity">
			<property name="entity_names" value="zombieArlene,zombieMarlene,zombieDarlene,zombiePartyGirl,zombieNurse,zombieJoe,zombieBoe,zombieYo,zombieSteve,zombieTomClark,zombieBusinessMan,zombieBurnt,zombieJanitor,zombieLab,zombieUtilityWorker,zombieMaleHazmat,zombieSkateboarder" param1="zombiename" />
			<property name="spawn_count" value="1" param1="spawncount" />
			<property name="min_distance" value="30" />
			<property name="max_distance" value="40" />
			<property name="air_spawn" value="true" />
			<property name="attack_target" value="true" />
		</action>
	</action_sequence>

	<!-- adding bigger zombies, and basic animals -->
	<action_sequence name="zombie_group_02">
		<property name="allow_user_trigger" value="false" />
		<property name="category" value="twitch_actions" />
		<action class="SpawnEntity">
			<property name="entity_names" value="zombieArlene,zombieMarlene,zombieDarlene,zombiePartyGirl,zombieNurse,zombieJoe,zombieBoe,zombieYo,zombieSteve,zombieTomClark,zombieBusinessMan,zombieBurnt,zombieJanitor,zombieLab,zombieUtilityWorker,zombieMaleHazmat,zombieSkateboarder,zombieSpider,zombieMoe,zombieBiker,zombieLumberjack,zombieFemaleFat,zombieFatHawaiian,zombieSoldier,zombieMutated,animalZombieVulture,animalZombieDog" param1="zombiename" />
			<property name="spawn_count" value="1" param1="spawncount" />
			<property name="min_distance" value="30" />
			<property name="max_distance" value="40" />
			<property name="air_spawn" value="true" />
			<property name="attack_target" value="true" />
		</action>
	</action_sequence>

	<!-- adding feral versions of easy zombies -->
	<action_sequence name="zombie_group_03">
		<property name="allow_user_trigger" value="false" />
		<property name="category" value="twitch_actions" />
		<action class="SpawnEntity">
			<property name="entity_names" value="zombieArlene,zombieMarlene,zombieDarlene,zombiePartyGirl,zombieNurse,zombieJoe,zombieBoe,zombieYo,zombieSteve,zombieTomClark,zombieBusinessMan,zombieBurnt,zombieJanitor,zombieLab,zombieUtilityWorker,zombieMaleHazmat,zombieSkateboarder,zombieSpider,zombieMoe,zombieBiker,zombieLumberjack,zombieFemaleFat,zombieFatHawaiian,zombieSoldier,zombieMutated,animalZombieVulture,animalZombieDog,zombieArleneFeral,zombieMarleneFeral,zombieDarleneFeral,zombiePartyGirlFeral,zombieNurseFeral,zombieJoeFeral,zombieBoeFeral,zombieYoFeral,zombieSteveFeral,zombieTomClarkFeral,zombieBusinessManFeral,zombieBurntFeral,zombieJanitorFeral,zombieLabFeral,zombieUtilityWorkerFeral,zombieMaleHazmatFeral,zombieSkateboarderFeral" param1="zombiename" />
			<property name="spawn_count" value="1" param1="spawncount" />
			<property name="min_distance" value="30" />
			<property name="max_distance" value="40" />
			<property name="air_spawn" value="true" />
			<property name="attack_target" value="true" />
		</action>
	</action_sequence>

	<!-- adding fatcop, wights, radiated vultures, demolitioin, and zombie bears -->
	<action_sequence name="zombie_group_04">
		<property name="allow_user_trigger" value="false" />
		<property name="category" value="twitch_actions" />
		<action class="SpawnEntity">
			<property name="entity_names" value="zombieArlene,zombieMarlene,zombieDarlene,zombiePartyGirl,zombieNurse,zombieJoe,zombieBoe,zombieYo,zombieSteve,zombieTomClark,zombieBusinessMan,zombieBurnt,zombieJanitor,zombieLab,zombieUtilityWorker,zombieMaleHazmat,zombieSkateboarder,zombieSpider,zombieMoe,zombieBiker,zombieLumberjack,zombieFemaleFat,zombieFatHawaiian,zombieSoldier,zombieMutated,animalZombieVulture,animalZombieDog,zombieArleneFeral,zombieMarleneFeral,zombieDarleneFeral,zombiePartyGirlFeral,zombieNurseFeral,zombieJoeFeral,zombieBoeFeral,zombieYoFeral,zombieSteveFeral,zombieTomClarkFeral,zombieBusinessManFeral,zombieBurntFeral,zombieJanitorFeral,zombieLabFeral,zombieUtilityWorkerFeral,zombieMaleHazmatFeral,zombieSkateboarderFeral,zombieFatCop,zombieWightFeral,animalZombieVultureRadiated,zombieDemolition" param1="zombiename" />
			<property name="spawn_count" value="1" param1="spawncount" />
			<property name="min_distance" value="30" />
			<property name="max_distance" value="40" />
			<property name="air_spawn" value="true" />
			<property name="attack_target" value="true" />
		</action>
	</action_sequence>

	<!-- adding radiated versions of easy zombies -->
	<action_sequence name="zombie_group_05">
		<property name="allow_user_trigger" value="false" />
		<property name="category" value="twitch_actions" />
		<action class="SpawnEntity">
			<property name="entity_names" value="zombieArlene,zombieMarlene,zombieDarlene,zombiePartyGirl,zombieNurse,zombieJoe,zombieBoe,zombieYo,zombieSteve,zombieTomClark,zombieBusinessMan,zombieBurnt,zombieJanitor,zombieLab,zombieUtilityWorker,zombieMaleHazmat,zombieSkateboarder,zombieSpider,zombieMoe,zombieBiker,zombieLumberjack,zombieFemaleFat,zombieFatHawaiian,zombieSoldier,zombieMutated,animalZombieVulture,animalZombieDog,zombieArleneFeral,zombieMarleneFeral,zombieDarleneFeral,zombiePartyGirlFeral,zombieNurseFeral,zombieJoeFeral,zombieBoeFeral,zombieYoFeral,zombieSteveFeral,zombieTomClarkFeral,zombieBusinessManFeral,zombieBurntFeral,zombieJanitorFeral,zombieLabFeral,zombieUtilityWorkerFeral,zombieMaleHazmatFeral,zombieSkateboarderFeral,zombieFatCop,zombieWightFeral,animalZombieVultureRadiated,zombieDemolition,zombieArleneRadiated,zombieMarleneRadiated,zombieDarleneRadiated,zombiePartyGirlRadiated,zombieNurseRadiated,zombieJoeRadiated,zombieBoeRadiated,zombieYoRadiated,zombieSteveRadiated,zombieTomClarkRadiated,zombieBusinessManRadiated,zombieBurntRadiated,zombieJanitorRadiated,zombieLabRadiated,zombieUtilityWorkerRadiated,zombieMaleHazmatRadiated,zombieSkateboarderRadiated" param1="zombiename" />
			<property name="spawn_count" value="1" param1="spawncount" />
			<property name="min_distance" value="30" />
			<property name="max_distance" value="40" />
			<property name="air_spawn" value="true" />
			<property name="attack_target" value="true" />
		</action>
	</action_sequence>

	<!-- adding feral fatcop, radiated wights, and removing normal variant of easy zombies -->
	<action_sequence name="zombie_group_06">
		<property name="allow_user_trigger" value="false" />
		<property name="category" value="twitch_actions" />
		<action class="SpawnEntity">
			<property name="entity_names" value="zombieSpider,zombieMoe,zombieBiker,zombieLumberjack,zombieFemaleFat,zombieFatHawaiian,zombieSoldier,zombieMutated,animalZombieVulture,animalZombieDog,zombieArleneFeral,zombieMarleneFeral,zombieDarleneFeral,zombiePartyGirlFeral,zombieNurseFeral,zombieJoeFeral,zombieBoeFeral,zombieYoFeral,zombieSteveFeral,zombieTomClarkFeral,zombieBusinessManFeral,zombieBurntFeral,zombieJanitorFeral,zombieLabFeral,zombieUtilityWorkerFeral,zombieMaleHazmatFeral,zombieSkateboarderFeral,zombieFatCop,zombieWightFeral,animalZombieVultureRadiated,zombieDemolition,zombieArleneRadiated,zombieMarleneRadiated,zombieDarleneRadiated,zombiePartyGirlRadiated,zombieNurseRadiated,zombieJoeRadiated,zombieBoeRadiated,zombieYoRadiated,zombieSteveRadiated,zombieTomClarkRadiated,zombieBusinessManRadiated,zombieBurntRadiated,zombieJanitorRadiated,zombieLabRadiated,zombieUtilityWorkerRadiated,zombieMaleHazmatRadiated,zombieSkateboarderRadiated" param1="zombiename" />
			<property name="spawn_count" value="1" param1="spawncount" />
			<property name="min_distance" value="30" />
			<property name="max_distance" value="40" />
			<property name="air_spawn" value="true" />
			<property name="attack_target" value="true" />
		</action>
	</action_sequence>

	<!-- removing normal variant of fatter zombies -->
	<action_sequence name="zombie_group_07">
		<property name="allow_user_trigger" value="false" />
		<property name="category" value="twitch_actions" />
		<action class="SpawnEntity">
			<property name="entity_names" value="animalZombieVulture,animalZombieDog,zombieArleneFeral,zombieMarleneFeral,zombieDarleneFeral,zombiePartyGirlFeral,zombieNurseFeral,zombieJoeFeral,zombieBoeFeral,zombieYoFeral,zombieSteveFeral,zombieTomClarkFeral,zombieBusinessManFeral,zombieBurntFeral,zombieJanitorFeral,zombieLabFeral,zombieUtilityWorkerFeral,zombieMaleHazmatFeral,zombieSkateboarderFeral,zombieFatCop,zombieWightFeral,animalZombieVultureRadiated,zombieDemolition,zombieArleneRadiated,zombieMarleneRadiated,zombieDarleneRadiated,zombiePartyGirlRadiated,zombieNurseRadiated,zombieJoeRadiated,zombieBoeRadiated,zombieYoRadiated,zombieSteveRadiated,zombieTomClarkRadiated,zombieBusinessManRadiated,zombieBurntRadiated,zombieJanitorRadiated,zombieLabRadiated,zombieUtilityWorkerRadiated,zombieMaleHazmatRadiated,zombieSkateboarderRadiated" param1="zombiename" />
			<property name="spawn_count" value="1" param1="spawncount" />
			<property name="min_distance" value="30" />
			<property name="max_distance" value="40" />
			<property name="air_spawn" value="true" />
			<property name="attack_target" value="true" />
		</action>
	</action_sequence>

	<!-- removing half of all ferals -->
	<action_sequence name="zombie_group_08">
		<property name="allow_user_trigger" value="false" />
		<property name="category" value="twitch_actions" />
		<action class="SpawnEntity">
			<property name="entity_names" value="animalZombieVulture,animalZombieDog,zombieBurntFeral,zombieJanitorFeral,zombieLabFeral,zombieUtilityWorkerFeral,zombieMaleHazmatFeral,zombieSkateboarderFeral,zombieFatCop,zombieWightFeral,animalZombieVultureRadiated,zombieDemolition,zombieArleneRadiated,zombieMarleneRadiated,zombieDarleneRadiated,zombiePartyGirlRadiated,zombieNurseRadiated,zombieJoeRadiated,zombieBoeRadiated,zombieYoRadiated,zombieSteveRadiated,zombieTomClarkRadiated,zombieBusinessManRadiated,zombieBurntRadiated,zombieJanitorRadiated,zombieLabRadiated,zombieUtilityWorkerRadiated,zombieMaleHazmatRadiated,zombieSkateboarderRadiated" param1="zombiename" />
			<property name="spawn_count" value="1" param1="spawncount" />
			<property name="min_distance" value="30" />
			<property name="max_distance" value="40" />
			<property name="air_spawn" value="true" />
			<property name="attack_target" value="true" />
		</action>
	</action_sequence>

	<!-- removing all ferals -->
	<action_sequence name="zombie_group_09">
		<property name="allow_user_trigger" value="false" />
		<property name="category" value="twitch_actions" />
		<action class="SpawnEntity">
			<property name="entity_names" value="animalZombieVulture,animalZombieDog,zombieWightFeral,animalZombieVultureRadiated,zombieDemolition,zombieArleneRadiated,zombieMarleneRadiated,zombieDarleneRadiated,zombiePartyGirlRadiated,zombieNurseRadiated,zombieJoeRadiated,zombieBoeRadiated,zombieYoRadiated,zombieSteveRadiated,zombieTomClarkRadiated,zombieBusinessManRadiated,zombieBurntRadiated,zombieJanitorRadiated,zombieLabRadiated,zombieUtilityWorkerRadiated,zombieMaleHazmatRadiated,zombieSkateboarderRadiated" param1="zombiename" />
			<property name="spawn_count" value="1" param1="spawncount" />
			<property name="min_distance" value="30" />
			<property name="max_distance" value="40" />
			<property name="air_spawn" value="true" />
			<property name="attack_target" value="true" />
		</action>
	</action_sequence>

	<!-- adding hellshocker and gunner -->
	<action_sequence name="zombie_group_10">
		<property name="allow_user_trigger" value="false" />
		<property name="category" value="twitch_actions" />
		<action class="SpawnEntity">
			<property name="entity_names" value="HellShocker,zombieGunner,animalZombieDog,zombieWightFeral,animalZombieVultureRadiated,zombieDemolition,zombieNurseRadiated,zombieJoeRadiated,zombieBoeRadiated,zombieYoRadiated,zombieSteveRadiated,zombieTomClarkRadiated,zombieBusinessManRadiated,zombieBurntRadiated,zombieJanitorRadiated,zombieLabRadiated,zombieUtilityWorkerRadiated,zombieMaleHazmatRadiated,zombieSkateboarderRadiated" param1="zombiename" />
			<property name="spawn_count" value="1" param1="spawncount" />
			<property name="min_distance" value="30" />
			<property name="max_distance" value="40" />
			<property name="air_spawn" value="true" />
			<property name="attack_target" value="true" />
		</action>
	</action_sequence>

	<!-- removing 50% of existing radiated zombies -->
	<action_sequence name="zombie_group_11">
		<property name="allow_user_trigger" value="false" />
		<property name="category" value="twitch_actions" />
		<action class="SpawnEntity">
			<property name="entity_names" value="HellShocker,zombieGunner,animalZombieDog,zombieWightFeral,animalZombieVultureRadiated,zombieDemolition,zombieJoeRadiated,zombieBoeRadiated,zombieYoRadiated,zombieJanitorRadiated,zombieUtilityWorkerRadiated,zombieMaleHazmatRadiated" param1="zombiename" />
			<property name="spawn_count" value="1" param1="spawncount" />
			<property name="min_distance" value="30" />
			<property name="max_distance" value="40" />
			<property name="air_spawn" value="true" />
			<property name="attack_target" value="true" />
		</action>
	</action_sequence>

	<!-- adding animalKaboomPhoenix and zombieScorcher -->
	<action_sequence name="zombie_group_12">
		<property name="allow_user_trigger" value="false" />
		<property name="category" value="twitch_actions" />
		<action class="SpawnEntity">
			<property name="entity_names" value="zombieScorcher,animalKaboomPhoenix,HellShocker,zombieGunner,animalZombieDog,zombieWightFeral,animalZombieVultureRadiated,zombieDemolition,zombieJoeRadiated,zombieBoeRadiated,zombieYoRadiated,zombieJanitorRadiated,zombieUtilityWorkerRadiated,zombieMaleHazmatRadiated" param1="zombiename" />
			<property name="spawn_count" value="1" param1="spawncount" />
			<property name="min_distance" value="30" />
			<property name="max_distance" value="40" />
			<property name="air_spawn" value="true" />
			<property name="attack_target" value="true" />
		</action>
	</action_sequence>
	
	<!-- remove remaining radiated zombies and add bears -->
	<action_sequence name="zombie_group_13">
		<property name="allow_user_trigger" value="false" />
		<property name="category" value="twitch_actions" />
		<action class="SpawnEntity">
			<property name="entity_names" value="animalZombieBear,zombieScorcher,animalKaboomPhoenix,HellShocker,zombieGunner,animalZombieDog,zombieWightFeral,animalZombieVultureRadiated,zombieDemolition" param1="zombiename" />
			<property name="spawn_count" value="1" param1="spawncount" />
			<property name="min_distance" value="30" />
			<property name="max_distance" value="40" />
			<property name="air_spawn" value="true" />
			<property name="attack_target" value="true" />
		</action>
	</action_sequence>
	
	
</append>
</ErrorNull>